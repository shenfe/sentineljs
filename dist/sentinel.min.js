!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.sentinel=t()}(this,function(){"use strict";var e={},t={},n=window.document;!function(){var e=function(e){var n=t[e.animationName];if(n){e.stopImmediatePropagation();for(var i=0,r=n.length;i<r;i++)n[i](e.target)}};n.addEventListener("webkitAnimationStart",e,!0),n.addEventListener("animationstart",e,!0)}();var i=n.createElement("style");n.head.insertBefore(i,n.head.firstChild);var r=i.sheet,a=r.cssRules;return function(){var e=n.createEvent("HTMLEvents");e.initEvent("sentinel-load",!1,!1),n.dispatchEvent(e)}(),{on:function(n,i){i&&(Array.isArray(n)?n:[n]).map(function(n){var o=e[n];if(!o){var s="!"===n[0],f="transform:none;",l=(o=s?n.slice(1):"sentinel-"+Math.random().toString(16).slice(2))+"{from{-webkit-"+f+"-moz-"+f+"-ms-"+f+"-o-"+f+f+"}to{-webkit-"+f+"-moz-"+f+"-ms-"+f+"-o-"+f+f+"}}",m=void 0;try{m=r.insertRule("@-webkit-keyframes "+l,a.length)}catch(u){}try{m=r.insertRule("@-moz-keyframes "+l,a.length)}catch(u){}try{m=r.insertRule("@-o-keyframes "+l,a.length)}catch(u){}try{m=r.insertRule("@keyframes "+l,a.length)}catch(u){}if(a[m]._id=n,!s){var d="animation-duration:0.0001s;",c="animation-name:"+o+";";a[r.insertRule(n+"{-webkit-"+d+"-moz-"+d+"-ms-"+d+"-o-"+d+d+"-webkit-"+c+"-moz-"+c+"-ms-"+c+"-o-"+c+c+"}",a.length)]._id=n}e[n]=o}t[o]||(t[o]=[]),t[o].push(i)})},off:function(n,i){(Array.isArray(n)?n:[n]).map(function(n){var o=e[n];if(o){if(i){for(var s=t[o],f=s.length;f--;)s[f]===i&&s.splice(f,1);if(s.length)return}for(var l=a.length;l--;)a[l]._id===n&&r.deleteRule(l);delete e[n],delete t[o]}})},reset:function(){e={},t={},i&&(i.parentNode.removeChild(i),i=null)}}});
